---
title: "Spatial Statistics Final Project"
author: "Brusco, Bianca; Wang, Hongting; Yang, Lingfeng"
date: "9/28/2018"
output: pdf_document
---

    ```{r setup, include=FALSE,warning=FALSE,message=FALSE}
knitr::opts_chunk$set(echo=TRUE,tidy=TRUE)
    library(ggplot2)
    library(lattice)
    library(spdep)
    library(RColorBrewer)
    library(classInt)
    library(rgdal)
    library(formatR)
    library(sm)
    
    #snippet to override r-chunk fonts.
    def.chunk.hook  <- knitr::knit_hooks$get("chunk")
    knitr::knit_hooks$set(chunk = function(x, options) {
       x <- def.chunk.hook(x, options)
       ifelse(options$size != "normalsize", paste0("\\", options$size,"\n\n", x, "\n\n \\normalsize"), x)
    })
    ```


## 2013 NYC Stop & Frisk data (a few rows/cols)
```{r init-1,size="tiny",warning=FALSE,message=FALSE}
#load stops...
load("data/stops2013clean.RData")
```

```{r}
head(stops2013clean)
```


## Getting the zip code assiciated with each (lat,long) coordinate

```{r}
stops2013short = stops2013clean[,c("year","date","time", "frisked","lat","lon")] 
head(stops2013short)
```

Reverse geocoding 


```{r}
#install.pakcages("revgeo")
library(revgeo)

#figuring out how this works==== revgeo function takes LON-LAT as two numeric arguments.
# create vector cause easier
a = c(stops2013short$lon[1], stops2013short$lat[1])

#reverse geo the address
x = as.numeric(revgeo(a[1], a[2], output = "hash", item = "zip"))
x

```
